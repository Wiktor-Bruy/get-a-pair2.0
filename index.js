import{a as G}from"./assets/vendor-CWxt7QI6.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&e(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();let v=!1;function I(){document.querySelector(".error-window").classList.add("is-open")}function M(){document.querySelector(".not-new-img").classList.add("is-open")}function x(){const n=document.querySelector(".not-images");n.classList.add("is-open"),v||(n.addEventListener("click",$),v=!0)}function w(n,t){let s,e;switch(t){case 1:s=1140/4,e=550/3;break;case 2:s=1140/4,e=540/4;break;case 3:s=1130/5,e=540/4;break;case 4:s=1120/6,e=540/4;break;case 5:s=1120/6,e=530/5;break;case 6:s=1120/6,e=520/6;break;case 7:s=1110/7,e=520/6;break;case 8:s=1100/8,e=520/6;break;case 9:s=1100/8,e=510/7;break;case 9:s=1100/8,e=500/8;break}const a=q(n).map(m=>({src:m,rang:Math.ceil(Math.random()*100)})),o=q(n).map(m=>({src:m,rang:Math.ceil(Math.random()*100)})),i=[...a,...o].toSorted((m,d)=>m.rang-d.rang);let b=[];i.forEach(m=>{const d=document.createElement("li");d.classList.add("game-item"),d.style.width=`${s}px`,d.style.height=`${e}px`;const L=document.createElement("span");L.classList.add("fon"),d.append(L);const S=document.createElement("img");S.src=m.src,d.append(S),b.push(d)}),document.querySelector(".game-gallery").append(...b)}function P(n,t){const s=document.querySelector(".round-ower"),e=document.querySelector(".round-ower-text"),o=Date.now()-n,i=A(o);s.classList.add("is-open"),t<10?e.textContent=`Ваш час раунда ${i.hours} год. ${i.minutes} хв. ${i.secunds} сек. Бажаєте продовжити?`:(e.textContent=`Вітаємо, ви пройшили всі рівні за обраною темою. Час гри ${i.hours} год. ${i.minutes} хв. ${i.secunds} сек.`,document.querySelector(".btn-continue").classList.add("none"))}function E(){document.querySelector(".round-ower").classList.remove("is-open")}function A(n){const t=Math.floor(n/60/60/1e3),s=Math.floor((n-t*3600*1e3)/60/1e3),e=Math.floor(n/1e3)-t*3600-s*60;return{hours:t,minutes:s,secunds:e}}function q(n){return n.map(s=>s.webformatURL)}function $(n){if(n.target.tagName==="P")return;document.querySelector(".not-images").classList.remove("is-open")}async function y(n,t,s){let e;switch(n){case 1:e=6;break;case 2:e=8;break;case 3:e=10;break;case 4:e=12;break;case 5:e=15;break;case 6:e=18;break;case 7:e=21;break;case 8:e=24;break;case 9:e=28;break;case 10:e=32;break}const a=new URLSearchParams({key:"52540887-918f2903ad65f90a6d5993705",q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:e,page:s});try{return(await G.get(`https://pixabay.com/api/?${a}`)).data.hits}catch{I()}}async function T(n,t){await new Promise(a=>{setTimeout(()=>a(2),500)});const s=n.nextElementSibling,e=t.nextElementSibling;if(s.src!=e.src){n.classList.remove("invis"),t.classList.remove("invis");return}else{n.parentElement.classList.add("hidden"),t.parentElement.classList.add("hidden");return}}function D(){const n=document.querySelectorAll(".game-item");let t=[];return n.forEach(e=>{const a=e.classList.contains("hidden");t.push(a)}),t.every(e=>e===!0)}const R=JSON.parse(sessionStorage.getItem("level")),C=JSON.parse(sessionStorage.getItem("teme")),W=JSON.parse(sessionStorage.getItem("page"));let l=C||void 0,r=R||1,u=W||1;const c={startPage:document.querySelector(".start-page"),startList:document.querySelector(".list-teme"),form:document.querySelector(".enter-teme"),gamePage:document.querySelector(".game-page"),gameGallery:document.querySelector(".game-gallery"),goFirstPageBtn:document.querySelector(".go-first"),btnContinue:document.querySelector(".btn-continue")};let h=!1,g,f,p,k;function O(){c.startPage.classList.add("is-close")}function F(){c.startPage.classList.remove("is-close")}function N(){c.gamePage.classList.add("is-open")}function H(){c.gamePage.classList.remove("is-open")}function J(n){const t=n.target;if(t.tagName!="LI")return;const s=t.dataset.value;l!=s&&(l=s,r=1,u=1),O(),N(),y(r,l,u).then(e=>{w(e,r),p=Date.now(),k=Date.now()})}function B(n){n.preventDefault();const t=n.target.elements.teme.value.trim().toLowerCase();l!=t&&(l=t,r=1,u=1),y(r,l,u).then(s=>{let e;switch(r){case 1:e=6;break;case 2:e=8;break;case 3:e=10;break;case 4:e=12;break;case 5:e=15;break;case 6:e=18;break;case 7:e=21;break;case 8:e=24;break;case 9:e=28;break;case 10:e=32;break}s.length<e?(c.form.reset(),x()):(O(),N(),c.form.reset(),w(s,r),p=Date.now(),k=Date.now())})}function U(){r++,u=Math.ceil(r/2),y(r,l,u).then(n=>{let t;switch(r){case 1:t=6;break;case 2:t=8;break;case 3:t=10;break;case 4:t=12;break;case 5:t=15;break;case 6:t=18;break;case 7:t=21;break;case 8:t=24;break;case 9:t=28;break;case 10:t=32;break}n.length<t?(r=1,u=1,l=void 0,M(),c.gameGallery.innerHTML=""):(c.gameGallery.innerHTML="",w(n,r),p=Date.now(),E())})}function _(){c.gameGallery.innerHTML="",E(),H(),F(),r=1,l=void 0,u=1}function z(n){if(h)return;const t=n.target;t.tagName=="SPAN"&&(g?(f=t,f.classList.add("invis"),h=!0,T(g,f).then(()=>{h=!1,g=0,f=0,D()&&(r===10?(r=1,u=1,l=void 0,P(k,r)):P(p,r))})):(g=t,g.classList.add("invis")))}c.startList.addEventListener("click",J);c.form.addEventListener("submit",B);c.gameGallery.addEventListener("click",z);c.goFirstPageBtn.addEventListener("click",_);c.btnContinue.addEventListener("click",U);
//# sourceMappingURL=index.js.map
