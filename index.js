import{a as x}from"./assets/vendor-CWxt7QI6.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();let q=!1;function G(){document.querySelector(".error-window").classList.add("is-open")}function M(){document.querySelector(".not-new-img").classList.add("is-open")}function A(){const s=document.querySelector(".not-images");s.classList.add("is-open"),q||(s.addEventListener("click",$),q=!0)}function y(s,t){let n,e;switch(t){case 1:n=1140/4,e=550/3;break;case 2:n=1140/4,e=540/4;break;case 3:n=1130/5,e=540/4;break;case 4:n=1120/6,e=540/4;break;case 5:n=1120/6,e=530/5;break;case 6:n=1120/6,e=520/6;break;case 7:n=1110/7,e=520/6;break;case 8:n=1100/8,e=520/6;break;case 9:n=1100/8,e=510/7;break;case 10:n=1100/8,e=500/8;break}const r=O(s).map(d=>({src:d,rang:Math.ceil(Math.random()*100)})),o=O(s).map(d=>({src:d,rang:Math.ceil(Math.random()*100)})),c=[...r,...o].toSorted((d,u)=>d.rang-u.rang);let b=[];c.forEach(d=>{const u=document.createElement("li");u.classList.add("game-item"),u.style.width=`${n}px`,u.style.height=`${e}px`;const k=document.createElement("span");k.classList.add("fon"),u.append(k);const v=document.createElement("img");v.src=d.src,u.append(v),b.push(u)}),document.querySelector(".game-gallery").append(...b);const h=document.querySelector(".num-round");h.classList.add("is-open"),t<10?h.textContent=`Раунд ${t} з 10`:h.textContent="Останній раунд."}function P(s,t){const n=document.querySelector(".round-ower"),e=document.querySelector(".round-ower-text"),o=Date.now()-s,c=R(o);n.classList.add("is-open"),t<10?e.textContent=`Ваш час раунда ${c.hours} год. ${c.minutes} хв. ${c.secunds} сек. Бажаєте продовжити?`:(e.textContent=`Вітаємо, ви пройшили всі рівні за обраною темою. Час гри ${c.hours} год. ${c.minutes} хв. ${c.secunds} сек.`,document.querySelector(".btn-continue").classList.add("none"))}function I(){document.querySelector(".round-ower").classList.remove("is-open")}function R(s){const t=Math.floor(s/60/60/1e3),n=Math.floor((s-t*3600*1e3)/60/1e3),e=Math.floor(s/1e3)-t*3600-n*60;return{hours:t,minutes:n,secunds:e}}function O(s){return s.map(n=>n.webformatURL)}function $(s){if(s.target.tagName==="P")return;document.querySelector(".not-images").classList.remove("is-open")}async function S(s,t,n){let e;switch(s){case 1:e=6;break;case 2:e=8;break;case 3:e=10;break;case 4:e=12;break;case 5:e=15;break;case 6:e=18;break;case 7:e=21;break;case 8:e=24;break;case 9:e=28;break;case 10:e=32;break}const r=new URLSearchParams({key:"52540887-918f2903ad65f90a6d5993705",q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:e,page:n});try{return(await x.get(`https://pixabay.com/api/?${r}`)).data.hits}catch{G()}}async function C(s,t){await new Promise(r=>{setTimeout(()=>r(2),500)});const n=s.nextElementSibling,e=t.nextElementSibling;if(n.src!=e.src){s.classList.remove("invis"),t.classList.remove("invis");return}else{s.parentElement.classList.add("hidden"),t.parentElement.classList.add("hidden");return}}function T(){const s=document.querySelectorAll(".game-item");let t=[];return s.forEach(e=>{const r=e.classList.contains("hidden");t.push(r)}),t.every(e=>e===!0)}const D=JSON.parse(sessionStorage.getItem("level")),J=JSON.parse(sessionStorage.getItem("teme")),W=JSON.parse(sessionStorage.getItem("page"));let l=J||void 0,a=D||1,m=W||1;const i={startPage:document.querySelector(".start-page"),startList:document.querySelector(".list-teme"),form:document.querySelector(".enter-teme"),gamePage:document.querySelector(".game-page"),gameGallery:document.querySelector(".game-gallery"),goFirstPageBtn:document.querySelector(".go-first"),btnContinue:document.querySelector(".btn-continue"),numRound:document.querySelector(".num-round")};let w=!1,g,f,p,L;function N(){i.startPage.classList.add("is-close")}function F(){i.startPage.classList.remove("is-close")}function E(){i.gamePage.classList.add("is-open")}function H(){i.gamePage.classList.remove("is-open")}function B(s){const t=s.target;if(t.tagName!="LI")return;const n=t.dataset.value;l!=n&&(l=n,a=1,m=1,sessionStorage.setItem("teme",JSON.stringify(l))),N(),E(),S(a,l,m).then(e=>{y(e,a),p=Date.now(),L=Date.now()})}function U(s){s.preventDefault();const t=s.target.elements.teme.value.trim().toLowerCase();l!=t&&(l=t,a=1,m=1,sessionStorage.setItem("teme",JSON.stringify(l))),S(a,l,m).then(n=>{let e;switch(a){case 1:e=6;break;case 2:e=8;break;case 3:e=10;break;case 4:e=12;break;case 5:e=15;break;case 6:e=18;break;case 7:e=21;break;case 8:e=24;break;case 9:e=28;break;case 10:e=32;break}n.length<e?(i.form.reset(),A()):(N(),E(),i.form.reset(),y(n,a),p=Date.now(),L=Date.now())})}function _(){a++,m=Math.ceil(a/2),sessionStorage.setItem("level",JSON.stringify(a)),sessionStorage.setItem("page",JSON.stringify(m)),S(a,l,m).then(s=>{let t;switch(a){case 1:t=6;break;case 2:t=8;break;case 3:t=10;break;case 4:t=12;break;case 5:t=15;break;case 6:t=18;break;case 7:t=21;break;case 8:t=24;break;case 9:t=28;break;case 10:t=32;break}s.length<t?(a=1,m=1,l=void 0,M(),i.gameGallery.innerHTML=""):(i.gameGallery.innerHTML="",y(s,a),p=Date.now(),I())})}function z(){i.gameGallery.innerHTML="",I(),H(),F(),a=1,l=void 0,m=1,sessionStorage.removeItem("teme"),sessionStorage.removeItem("level"),sessionStorage.removeItem("page"),i.numRound.classList.remove("is-open")}function K(s){if(w)return;const t=s.target;t.tagName=="SPAN"&&(g?(f=t,f.classList.add("invis"),w=!0,C(g,f).then(()=>{w=!1,g=0,f=0,T()&&(a===10?(P(L,a),a=1,m=1,l=void 0):P(p,a))})):(g=t,g.classList.add("invis")))}i.startList.addEventListener("click",B);i.form.addEventListener("submit",U);i.gameGallery.addEventListener("click",K);i.goFirstPageBtn.addEventListener("click",z);i.btnContinue.addEventListener("click",_);
//# sourceMappingURL=index.js.map
