{"version":3,"file":"index.js","sources":["../src/js/render-function.js","../src/js/get-imsge.js","../src/main.js"],"sourcesContent":["//-----------------------------------------------------Вікно-помилки-запиту\nexport function showErrorWindow() {\n  const wind = document.querySelector('.error-window');\n  wind.classList.add('is-open');\n}\n\n//----------------------------------Вікно-нестачі-картинок-при-вводі вручну\nexport function showNotImgWind() {\n  const wind = document.querySelector('.not-images');\n  wind.classList.add('is-open');\n  wind.addEventListener('click', closeNotImgWind);\n}\n\n//---------------------------------------------------Рендер-галереї-для-гри\nexport function renderGameGallery(arr, level) {\n  let width;\n  let height;\n  switch (level) {\n    case 1:\n      width = (1200 - 30) / 4 - 1;\n      height = (600 - 20) / 3 - 1;\n      break;\n    case 2:\n      width = (1200 - 30) / 4 - 1;\n      height = (600 - 30) / 4 - 1;\n      break;\n    case 3:\n      width = (1200 - 40) / 5 - 1;\n      height = (600 - 30) / 4 - 1;\n      break;\n    case 4:\n      width = (1200 - 50) / 6 - 1;\n      height = (600 - 30) / 4 - 1;\n      break;\n    case 5:\n      width = (1200 - 50) / 6 - 1;\n      height = (600 - 40) / 5 - 1;\n      break;\n    case 6:\n      width = (1200 - 50) / 6 - 1;\n      height = (600 - 50) / 6 - 1;\n      break;\n    case 7:\n      width = (1200 - 60) / 7 - 1;\n      height = (600 - 50) / 6 - 1;\n      break;\n    case 8:\n      width = (1200 - 70) / 8 - 1;\n      height = (600 - 50) / 6 - 1;\n      break;\n    case 9:\n      width = (1200 - 70) / 8 - 1;\n      height = (600 - 60) / 7 - 1;\n      break;\n    case 9:\n      width = (1200 - 70) / 8 - 1;\n      height = (600 - 70) / 8 - 1;\n      break;\n  }\n\n  const imgArr1 = createGameArray(arr).map(el => {\n    return {\n      src: el,\n      rang: Math.ceil(Math.random() * 100),\n    };\n  });\n  const imgArr2 = createGameArray(arr).map(el => {\n    return {\n      src: el,\n      rang: Math.ceil(Math.random() * 100),\n    };\n  });\n\n  const imgArr = [...imgArr1, ...imgArr2].toSorted((a, b) => a.rang - b.rang);\n\n  let gameArr;\n\n  imgArr.forEach(el => {\n    const item = document.createElement('li');\n    item.classList.add('game-item');\n    item.style.width = String(width);\n    item.style.height = String(height);\n\n    const span = document.createElement('span');\n    span.classList.add('fon');\n    item.append(span);\n\n    const img = document.createElement('img');\n    img.src = el.src;\n    item.append(img);\n\n    gameArr.push(item);\n  });\n\n  const game = document.querySelector('.game-gallery');\n  game.append(...gameArr);\n}\n\n//-------------------------------------------Функції-для-внутрішньої-роботи\n//-------------------------------------------------Створення-масиву-для-гри\nfunction createGameArray(arr) {\n  const newArr = arr.map(el => el.webformatURL);\n  return newArr;\n}\n\n//Обробник-події-закриття-модального-вікна-нестачі-картинок-в-ручному-запиті\nfunction closeNotImgWind(event) {\n  const tag = event.target;\n  if (tag.tagName === 'P') {\n    return;\n  }\n  const wind = document.querySelector('.not-images');\n  wind.classList.remove('is-open');\n}\n","import axios from 'axios';\nimport { showErrorWindow } from './render-function';\n\nexport default async function getImagesArray(level, teme) {\n  let quantiti;\n  switch (level) {\n    case 1:\n      quantiti = 6;\n      break;\n    case 2:\n      quantiti = 8;\n      break;\n    case 3:\n      quantiti = 10;\n      break;\n    case 4:\n      quantiti = 12;\n      break;\n    case 5:\n      quantiti = 15;\n      break;\n    case 6:\n      quantiti = 18;\n      break;\n    case 7:\n      quantiti = 21;\n      break;\n    case 8:\n      quantiti = 24;\n      break;\n    case 9:\n      quantiti = 28;\n      break;\n    case 10:\n      quantiti = 32;\n      break;\n  }\n\n  // Створення параметрів запиту\n  const searchParams = new URLSearchParams({\n    key: '52540887-918f2903ad65f90a6d5993705',\n    q: teme,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: quantiti,\n    page: level,\n  });\n\n  //Відправка запиту\n  try {\n    const answer = await axios.get(`https://pixabay.com/api/?${searchParams}`);\n    return answer.data.hits;\n  } catch {\n    showErrorWindow();\n  }\n}\n","'use strict';\n\nimport getArrayImages from './js/get-imsge';\nimport * as render from './js/render-function';\n\n//-------------------------------------------------------------Глобальні-змінні\nlet teme;\nlet level = 1;\nlet page;\nif (level === 1) {\n  page = 1;\n} else {\n  page = Math.ceil(level / 2);\n}\nconst refs = {\n  startPage: document.querySelector('.start-page'),\n  startList: document.querySelector('.list-teme'),\n  form: document.querySelector('.enter-teme'),\n  gamePage: document.querySelector('.game-page'),\n};\n//-----------------------------------------------------------------------------\n\n//----------------------------------------------------------------------Функції\n//----------------------------------------Відкриття-закриття-стартової-сторінки\nfunction hideStartPage() {\n  refs.startPage.classList.add('is-close');\n}\nfunction showStartPage() {\n  refs.startPage.classList.remove('is-close');\n}\n//----------------------------------------------Відкриття-закриття-сторінки-гри\nfunction showGamePage() {\n  refs.gamePage.classList.add('is-open');\n}\nfunction hideGamePage() {\n  refs.gamePage.classList.remove('is-open');\n}\n//------------------------------------------------------------Кліки-вибору-теми\nfunction clickTeme(event) {\n  const target = event.target;\n  if (target.tagName != 'LI') {\n    return;\n  }\n  teme = target.dataset.value;\n  hideStartPage();\n  showGamePage();\n  getArrayImages(page, teme).then(answer => {\n    console.log(answer);\n  });\n}\n//-----------------------------------------------------------Вибір-теми-в-формі\nfunction enterTeme(event) {\n  event.preventDefault();\n  teme = event.target.elements.teme.value.trim();\n  getArrayImages(page, teme).then(answer => {\n    let quantiti;\n    switch (level) {\n      case 1:\n        quantiti = 6;\n        break;\n      case 2:\n        quantiti = 8;\n        break;\n      case 3:\n        quantiti = 10;\n        break;\n      case 4:\n        quantiti = 12;\n        break;\n      case 5:\n        quantiti = 15;\n        break;\n      case 6:\n        quantiti = 18;\n        break;\n      case 7:\n        quantiti = 21;\n        break;\n      case 8:\n        quantiti = 24;\n        break;\n      case 9:\n        quantiti = 28;\n        break;\n      case 10:\n        quantiti = 32;\n        break;\n    }\n    if (answer.length < quantiti) {\n      refs.form.reset();\n      render.showNotImgWind();\n    } else {\n      hideStartPage();\n      showGamePage();\n      refs.form.reset();\n    }\n  });\n}\n//-----------------------------------------------------------------------------\n\n//-------------------------------------------------------------------Логіка-гри\n//---------------------------------------------Обробка-подій-стартової-сторінки\nrefs.startList.addEventListener('click', clickTeme);\nrefs.form.addEventListener('submit', enterTeme);\n//-----------------------------------------------------------------------------\n"],"names":["showErrorWindow","showNotImgWind","wind","closeNotImgWind","event","getImagesArray","level","teme","quantiti","searchParams","axios","page","refs","hideStartPage","showGamePage","clickTeme","target","getArrayImages","answer","enterTeme","render.showNotImgWind"],"mappings":"svBACO,SAASA,GAAkB,CACnB,SAAS,cAAc,eAAe,EAC9C,UAAU,IAAI,SAAS,CAC9B,CAGO,SAASC,GAAiB,CAC/B,MAAMC,EAAO,SAAS,cAAc,aAAa,EACjDA,EAAK,UAAU,IAAI,SAAS,EAC5BA,EAAK,iBAAiB,QAASC,CAAe,CAChD,CA+FA,SAASA,EAAgBC,EAAO,CAE9B,GADYA,EAAM,OACV,UAAY,IAClB,OAEW,SAAS,cAAc,aAAa,EAC5C,UAAU,OAAO,SAAS,CACjC,CC9Ge,eAAeC,EAAeC,EAAOC,EAAM,CACxD,IAAIC,EACJ,OAAQF,EAAK,CACX,IAAK,GACHE,EAAW,EACX,MACF,IAAK,GACHA,EAAW,EACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,IACHA,EAAW,GACX,KACH,CAGD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAUC,EACV,KAAMF,CACV,CAAG,EAGD,GAAI,CAEF,OADe,MAAMI,EAAM,IAAI,4BAA4BD,CAAY,EAAE,GAC3D,KAAK,IACvB,MAAU,CACNT,GACD,CACH,CClDA,IAAIO,EACAD,EAAQ,EACRK,EAEFA,EAAO,EAIT,MAAMC,EAAO,CACX,UAAW,SAAS,cAAc,aAAa,EAC/C,UAAW,SAAS,cAAc,YAAY,EAC9C,KAAM,SAAS,cAAc,aAAa,EAC1C,SAAU,SAAS,cAAc,YAAY,CAC/C,EAKA,SAASC,GAAgB,CACvBD,EAAK,UAAU,UAAU,IAAI,UAAU,CACzC,CAKA,SAASE,GAAe,CACtBF,EAAK,SAAS,UAAU,IAAI,SAAS,CACvC,CAKA,SAASG,EAAUX,EAAO,CACxB,MAAMY,EAASZ,EAAM,OACjBY,EAAO,SAAW,OAGtBT,EAAOS,EAAO,QAAQ,MACtBH,IACAC,IACAG,EAAeN,EAAMJ,CAAI,EAAE,KAAKW,GAAU,CACxC,QAAQ,IAAIA,CAAM,CACtB,CAAG,EACH,CAEA,SAASC,EAAUf,EAAO,CACxBA,EAAM,eAAc,EACpBG,EAAOH,EAAM,OAAO,SAAS,KAAK,MAAM,OACxCa,EAAeN,EAAMJ,CAAI,EAAE,KAAKW,GAAU,CACxC,IAAIV,EACJ,OAAQF,EAAK,CACX,IAAK,GACHE,EAAW,EACX,MACF,IAAK,GACHA,EAAW,EACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,IACHA,EAAW,GACX,KACH,CACGU,EAAO,OAASV,GAClBI,EAAK,KAAK,QACVQ,MAEAP,IACAC,IACAF,EAAK,KAAK,QAEhB,CAAG,CACH,CAKAA,EAAK,UAAU,iBAAiB,QAASG,CAAS,EAClDH,EAAK,KAAK,iBAAiB,SAAUO,CAAS"}