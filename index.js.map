{"version":3,"file":"index.js","sources":["../src/js/render-function.js","../src/js/get-imsge.js","../src/js/some-function.js","../src/main.js"],"sourcesContent":["//-----------------------------------------------------Вікно-помилки-запиту\nexport function showErrorWindow() {\n  const wind = document.querySelector('.error-window');\n  wind.classList.add('is-open');\n}\n\n//----------------------------------Вікно-нестачі-картинок-при-вводі вручну\nexport function showNotImgWind() {\n  const wind = document.querySelector('.not-images');\n  wind.classList.add('is-open');\n  wind.addEventListener('click', closeNotImgWind);\n}\n\n//---------------------------------------------------Рендер-галереї-для-гри\nexport function renderGameGallery(arr, level) {\n  let width;\n  let height;\n  switch (level) {\n    case 1:\n      width = (1195 - 30 - 25) / 4;\n      height = (595 - 20 - 25) / 3;\n      break;\n    case 2:\n      width = (1195 - 30 - 25) / 4;\n      height = (595 - 30 - 25) / 4;\n      break;\n    case 3:\n      width = (1195 - 40 - 25) / 5;\n      height = (595 - 30 - 25) / 4;\n      break;\n    case 4:\n      width = (1195 - 50 - 25) / 6;\n      height = (595 - 30 - 25) / 4;\n      break;\n    case 5:\n      width = (1195 - 50 - 25) / 6;\n      height = (595 - 40 - 25) / 5;\n      break;\n    case 6:\n      width = (1195 - 50 - 25) / 6;\n      height = (595 - 50 - 25) / 6;\n      break;\n    case 7:\n      width = (1195 - 60 - 25) / 7;\n      height = (595 - 50 - 25) / 6;\n      break;\n    case 8:\n      width = (1195 - 70 - 25) / 8;\n      height = (595 - 50 - 25) / 6;\n      break;\n    case 9:\n      width = (1195 - 70 - 25) / 8;\n      height = (595 - 60 - 25) / 7;\n      break;\n    case 9:\n      width = (1195 - 70 - 25) / 8;\n      height = (595 - 70 - 25) / 8;\n      break;\n  }\n\n  const imgArr1 = createGameArray(arr).map(el => {\n    return {\n      src: el,\n      rang: Math.ceil(Math.random() * 100),\n    };\n  });\n  const imgArr2 = createGameArray(arr).map(el => {\n    return {\n      src: el,\n      rang: Math.ceil(Math.random() * 100),\n    };\n  });\n\n  const imgArr = [...imgArr1, ...imgArr2].toSorted((a, b) => a.rang - b.rang);\n\n  let gameArr = [];\n\n  imgArr.forEach(el => {\n    const item = document.createElement('li');\n    item.classList.add('game-item');\n    item.style.width = `${width}px`;\n    item.style.height = `${height}px`;\n\n    const span = document.createElement('span');\n    span.classList.add('fon');\n    item.append(span);\n\n    const img = document.createElement('img');\n    img.src = el.src;\n    item.append(img);\n\n    gameArr.push(item);\n  });\n\n  const game = document.querySelector('.game-gallery');\n  game.append(...gameArr);\n}\n\n//-------------------------------------------Функції-для-внутрішньої-роботи\n//-------------------------------------------------Створення-масиву-для-гри\nfunction createGameArray(arr) {\n  const newArr = arr.map(el => el.webformatURL);\n  return newArr;\n}\n\n//Обробник-події-закриття-модального-вікна-нестачі-картинок-в-ручному-запиті\nfunction closeNotImgWind(event) {\n  const tag = event.target;\n  if (tag.tagName === 'P') {\n    return;\n  }\n  const wind = document.querySelector('.not-images');\n  wind.classList.remove('is-open');\n}\n","import axios from 'axios';\nimport { showErrorWindow } from './render-function';\n\nexport default async function getImagesArray(level, teme) {\n  let quantiti;\n  switch (level) {\n    case 1:\n      quantiti = 6;\n      break;\n    case 2:\n      quantiti = 8;\n      break;\n    case 3:\n      quantiti = 10;\n      break;\n    case 4:\n      quantiti = 12;\n      break;\n    case 5:\n      quantiti = 15;\n      break;\n    case 6:\n      quantiti = 18;\n      break;\n    case 7:\n      quantiti = 21;\n      break;\n    case 8:\n      quantiti = 24;\n      break;\n    case 9:\n      quantiti = 28;\n      break;\n    case 10:\n      quantiti = 32;\n      break;\n  }\n\n  // Створення параметрів запиту\n  const searchParams = new URLSearchParams({\n    key: '52540887-918f2903ad65f90a6d5993705',\n    q: teme,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: quantiti,\n    page: level,\n  });\n\n  //Відправка запиту\n  try {\n    const answer = await axios.get(`https://pixabay.com/api/?${searchParams}`);\n    return answer.data.hits;\n  } catch {\n    showErrorWindow();\n  }\n}\n","//-------------------------------------------------------------Порівняння-картинок\nexport function comparisonImg(span1, span2) {\n  const img1 = span1.nextElementSibling;\n  const img2 = span2.nextElementSibling;\n  if (img1.src != img2.src) {\n    span1.cllassList.remove('invis');\n    span2.cllassList.remove('invis');\n    return;\n  } else {\n    span1.parentElement.cllassList.add('hidden');\n    span2.parentElement.cllassList.add('hidden');\n    return;\n  }\n}\n","'use strict';\n\nimport getArrayImages from './js/get-imsge';\nimport * as render from './js/render-function';\nimport * as some from './js/some-function';\n\n//-------------------------------------------------------------Глобальні-змінні\nlet teme;\nlet level = 1;\nlet page;\nif (level === 1) {\n  page = 1;\n} else {\n  page = Math.ceil(level / 2);\n}\nconst refs = {\n  startPage: document.querySelector('.start-page'),\n  startList: document.querySelector('.list-teme'),\n  form: document.querySelector('.enter-teme'),\n  gamePage: document.querySelector('.game-page'),\n  gameGallery: document.querySelector('.game-gallery'),\n};\nlet isComparwe = false;\nlet span1;\nlet span2;\nlet count;\nswitch (level) {\n  case 1:\n    count = 6;\n    break;\n  case 2:\n    count = 8;\n    break;\n  case 3:\n    count = 10;\n    break;\n  case 4:\n    count = 12;\n    break;\n  case 5:\n    count = 15;\n    break;\n  case 6:\n    count = 18;\n    break;\n  case 7:\n    count = 21;\n    break;\n  case 8:\n    count = 24;\n    break;\n  case 9:\n    count = 28;\n    break;\n  case 10:\n    count = 32;\n    break;\n}\n//-----------------------------------------------------------------------------\n\n//----------------------------------------------------------------------Функції\n//----------------------------------------Відкриття-закриття-стартової-сторінки\nfunction hideStartPage() {\n  refs.startPage.classList.add('is-close');\n}\nfunction showStartPage() {\n  refs.startPage.classList.remove('is-close');\n}\n//----------------------------------------------Відкриття-закриття-сторінки-гри\nfunction showGamePage() {\n  refs.gamePage.classList.add('is-open');\n}\nfunction hideGamePage() {\n  refs.gamePage.classList.remove('is-open');\n}\n//------------------------------------------------------------Кліки-вибору-теми\nfunction clickTeme(event) {\n  const target = event.target;\n  if (target.tagName != 'LI') {\n    return;\n  }\n  teme = target.dataset.value;\n  hideStartPage();\n  showGamePage();\n  getArrayImages(page, teme).then(answer => {\n    render.renderGameGallery(answer, level);\n  });\n}\n//-----------------------------------------------------------Вибір-теми-в-формі\nfunction enterTeme(event) {\n  event.preventDefault();\n  teme = event.target.elements.teme.value.trim();\n  getArrayImages(page, teme).then(answer => {\n    let quantiti;\n    switch (level) {\n      case 1:\n        quantiti = 6;\n        break;\n      case 2:\n        quantiti = 8;\n        break;\n      case 3:\n        quantiti = 10;\n        break;\n      case 4:\n        quantiti = 12;\n        break;\n      case 5:\n        quantiti = 15;\n        break;\n      case 6:\n        quantiti = 18;\n        break;\n      case 7:\n        quantiti = 21;\n        break;\n      case 8:\n        quantiti = 24;\n        break;\n      case 9:\n        quantiti = 28;\n        break;\n      case 10:\n        quantiti = 32;\n        break;\n    }\n    if (answer.length < quantiti) {\n      refs.form.reset();\n      render.showNotImgWind();\n    } else {\n      hideStartPage();\n      showGamePage();\n      refs.form.reset();\n      render.renderGameGallery(answer, level);\n    }\n  });\n}\n\n//--------------------------------------------------Обробка-кліків-по-картинкам\nfunction game(event) {\n  if (isComparwe) {\n    return;\n  }\n  const elem = event.target;\n  if (elem.tagName != 'SPAN') {\n    return;\n  }\n  if (!span1) {\n    span1 = elem;\n    span1.classList.add('invis');\n  } else {\n    span2 = elem;\n    span2.classList.add('invis');\n    isComparwe = true;\n    some.comparisonImg(span1, span2);\n    isComparwe = false;\n    span1 = 0;\n    span2 = 0;\n  }\n}\n\n//-----------------------------------------------------------------------------\n\n//-------------------------------------------------------------------Логіка-гри\n//---------------------------------------------Обробка-подій-стартової-сторінки\nrefs.startList.addEventListener('click', clickTeme);\nrefs.form.addEventListener('submit', enterTeme);\n\n//-----------------------------------------------------Кліки-по-картинкам-у-грі\nrefs.gameGallery.addEventListener('click', game);\n\n//-----------------------------------------------------------------------------\n"],"names":["showErrorWindow","showNotImgWind","wind","closeNotImgWind","renderGameGallery","arr","level","width","height","imgArr1","createGameArray","el","imgArr2","imgArr","a","b","gameArr","item","span","img","event","getImagesArray","teme","quantiti","searchParams","axios","comparisonImg","span1","span2","img1","img2","page","refs","isComparwe","hideStartPage","showGamePage","clickTeme","target","getArrayImages","answer","render.renderGameGallery","enterTeme","render.showNotImgWind","game","elem","some.comparisonImg"],"mappings":"svBACO,SAASA,GAAkB,CACnB,SAAS,cAAc,eAAe,EAC9C,UAAU,IAAI,SAAS,CAC9B,CAGO,SAASC,GAAiB,CAC/B,MAAMC,EAAO,SAAS,cAAc,aAAa,EACjDA,EAAK,UAAU,IAAI,SAAS,EAC5BA,EAAK,iBAAiB,QAASC,CAAe,CAChD,CAGO,SAASC,EAAkBC,EAAKC,EAAO,CAC5C,IAAIC,EACAC,EACJ,OAAQF,EAAK,CACX,IAAK,GACHC,EAAS,KAAkB,EAC3BC,EAAU,IAAiB,EAC3B,MACF,IAAK,GACHD,EAAS,KAAkB,EAC3BC,EAAU,IAAiB,EAC3B,MACF,IAAK,GACHD,EAAS,KAAkB,EAC3BC,EAAU,IAAiB,EAC3B,MACF,IAAK,GACHD,EAAS,KAAkB,EAC3BC,EAAU,IAAiB,EAC3B,MACF,IAAK,GACHD,EAAS,KAAkB,EAC3BC,EAAU,IAAiB,EAC3B,MACF,IAAK,GACHD,EAAS,KAAkB,EAC3BC,EAAU,IAAiB,EAC3B,MACF,IAAK,GACHD,EAAS,KAAkB,EAC3BC,EAAU,IAAiB,EAC3B,MACF,IAAK,GACHD,EAAS,KAAkB,EAC3BC,EAAU,IAAiB,EAC3B,MACF,IAAK,GACHD,EAAS,KAAkB,EAC3BC,EAAU,IAAiB,EAC3B,MACF,IAAK,GACHD,EAAS,KAAkB,EAC3BC,EAAU,IAAiB,EAC3B,KACH,CAED,MAAMC,EAAUC,EAAgBL,CAAG,EAAE,IAAIM,IAChC,CACL,IAAKA,EACL,KAAM,KAAK,KAAK,KAAK,OAAM,EAAK,GAAG,CACzC,EACG,EACKC,EAAUF,EAAgBL,CAAG,EAAE,IAAIM,IAChC,CACL,IAAKA,EACL,KAAM,KAAK,KAAK,KAAK,OAAM,EAAK,GAAG,CACzC,EACG,EAEKE,EAAS,CAAC,GAAGJ,EAAS,GAAGG,CAAO,EAAE,SAAS,CAACE,EAAGC,IAAMD,EAAE,KAAOC,EAAE,IAAI,EAE1E,IAAIC,EAAU,CAAA,EAEdH,EAAO,QAAQF,GAAM,CACnB,MAAMM,EAAO,SAAS,cAAc,IAAI,EACxCA,EAAK,UAAU,IAAI,WAAW,EAC9BA,EAAK,MAAM,MAAQ,GAAGV,CAAK,KAC3BU,EAAK,MAAM,OAAS,GAAGT,CAAM,KAE7B,MAAMU,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,UAAU,IAAI,KAAK,EACxBD,EAAK,OAAOC,CAAI,EAEhB,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMR,EAAG,IACbM,EAAK,OAAOE,CAAG,EAEfH,EAAQ,KAAKC,CAAI,CACrB,CAAG,EAEY,SAAS,cAAc,eAAe,EAC9C,OAAO,GAAGD,CAAO,CACxB,CAIA,SAASN,EAAgBL,EAAK,CAE5B,OADeA,EAAI,IAAIM,GAAMA,EAAG,YAAY,CAE9C,CAGA,SAASR,EAAgBiB,EAAO,CAE9B,GADYA,EAAM,OACV,UAAY,IAClB,OAEW,SAAS,cAAc,aAAa,EAC5C,UAAU,OAAO,SAAS,CACjC,CC9Ge,eAAeC,EAAef,EAAOgB,EAAM,CACxD,IAAIC,EACJ,OAAQjB,EAAK,CACX,IAAK,GACHiB,EAAW,EACX,MACF,IAAK,GACHA,EAAW,EACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,IACHA,EAAW,GACX,KACH,CAGD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAUC,EACV,KAAMjB,CACV,CAAG,EAGD,GAAI,CAEF,OADe,MAAMmB,EAAM,IAAI,4BAA4BD,CAAY,EAAE,GAC3D,KAAK,IACvB,MAAU,CACNxB,GACD,CACH,CCvDO,SAAS0B,EAAcC,EAAOC,EAAO,CAC1C,MAAMC,EAAOF,EAAM,mBACbG,EAAOF,EAAM,mBACnB,GAAIC,EAAK,KAAOC,EAAK,IAAK,CACxBH,EAAM,WAAW,OAAO,OAAO,EAC/BC,EAAM,WAAW,OAAO,OAAO,EAC/B,MACJ,KAAS,CACLD,EAAM,cAAc,WAAW,IAAI,QAAQ,EAC3CC,EAAM,cAAc,WAAW,IAAI,QAAQ,EAC3C,MACD,CACH,CCNA,IAAIN,EACAhB,EAAQ,EACRyB,EAEFA,EAAO,EAIT,MAAMC,EAAO,CACX,UAAW,SAAS,cAAc,aAAa,EAC/C,UAAW,SAAS,cAAc,YAAY,EAC9C,KAAM,SAAS,cAAc,aAAa,EAC1C,SAAU,SAAS,cAAc,YAAY,EAC7C,YAAa,SAAS,cAAc,eAAe,CACrD,EACA,IAAIC,EAAa,GACbN,EACAC,EAsCJ,SAASM,GAAgB,CACvBF,EAAK,UAAU,UAAU,IAAI,UAAU,CACzC,CAKA,SAASG,GAAe,CACtBH,EAAK,SAAS,UAAU,IAAI,SAAS,CACvC,CAKA,SAASI,EAAUhB,EAAO,CACxB,MAAMiB,EAASjB,EAAM,OACjBiB,EAAO,SAAW,OAGtBf,EAAOe,EAAO,QAAQ,MACtBH,IACAC,IACAG,EAAeP,EAAMT,CAAI,EAAE,KAAKiB,GAAU,CACxCC,EAAyBD,EAAQjC,CAAK,CAC1C,CAAG,EACH,CAEA,SAASmC,EAAUrB,EAAO,CACxBA,EAAM,eAAc,EACpBE,EAAOF,EAAM,OAAO,SAAS,KAAK,MAAM,OACxCkB,EAAeP,EAAMT,CAAI,EAAE,KAAKiB,GAAU,CACxC,IAAIhB,EACJ,OAAQjB,EAAK,CACX,IAAK,GACHiB,EAAW,EACX,MACF,IAAK,GACHA,EAAW,EACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,GACHA,EAAW,GACX,MACF,IAAK,IACHA,EAAW,GACX,KACH,CACGgB,EAAO,OAAShB,GAClBS,EAAK,KAAK,QACVU,MAEAR,IACAC,IACAH,EAAK,KAAK,QACVQ,EAAyBD,EAAQjC,CAAK,EAE5C,CAAG,CACH,CAGA,SAASqC,EAAKvB,EAAO,CACnB,GAAIa,EACF,OAEF,MAAMW,EAAOxB,EAAM,OACfwB,EAAK,SAAW,SAGfjB,GAIHC,EAAQgB,EACRhB,EAAM,UAAU,IAAI,OAAO,EAC3BK,EAAa,GACbY,EAAmBlB,EAAOC,CAAK,EAC/BK,EAAa,GACbN,EAAQ,EACRC,EAAQ,IATRD,EAAQiB,EACRjB,EAAM,UAAU,IAAI,OAAO,GAU/B,CAMAK,EAAK,UAAU,iBAAiB,QAASI,CAAS,EAClDJ,EAAK,KAAK,iBAAiB,SAAUS,CAAS,EAG9CT,EAAK,YAAY,iBAAiB,QAASW,CAAI"}