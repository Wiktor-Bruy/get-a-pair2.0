import{a as E}from"./assets/vendor-CWxt7QI6.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();let v=!1;function G(){document.querySelector(".error-window").classList.add("is-open")}function M(){document.querySelector(".not-new-img").classList.add("is-open")}function x(){const s=document.querySelector(".not-images");s.classList.add("is-open"),v||(s.addEventListener("click",$),v=!0)}function w(s,t){let n,e;switch(t){case 1:n=1140/4,e=550/3;break;case 2:n=1140/4,e=540/4;break;case 3:n=1130/5,e=540/4;break;case 4:n=1120/6,e=540/4;break;case 5:n=1120/6,e=530/5;break;case 6:n=1120/6,e=520/6;break;case 7:n=1110/7,e=520/6;break;case 8:n=1100/8,e=520/6;break;case 9:n=1100/8,e=510/7;break;case 9:n=1100/8,e=500/8;break}const r=q(s).map(d=>({src:d,rang:Math.ceil(Math.random()*100)})),o=q(s).map(d=>({src:d,rang:Math.ceil(Math.random()*100)})),c=[...r,...o].toSorted((d,u)=>d.rang-u.rang);let b=[];c.forEach(d=>{const u=document.createElement("li");u.classList.add("game-item"),u.style.width=`${n}px`,u.style.height=`${e}px`;const k=document.createElement("span");k.classList.add("fon"),u.append(k);const L=document.createElement("img");L.src=d.src,u.append(L),b.push(u)}),document.querySelector(".game-gallery").append(...b)}function P(s,t){const n=document.querySelector(".round-ower"),e=document.querySelector(".round-ower-text"),o=Date.now()-s,c=A(o);n.classList.add("is-open"),t<10?e.textContent=`Ваш час раунда ${c.hours} год. ${c.minutes} хв. ${c.secunds} сек. Бажаєте продовжити?`:(e.textContent=`Вітаємо, ви пройшили всі рівні за обраною темою. Час гри ${c.hours} год. ${c.minutes} хв. ${c.secunds} сек.`,document.querySelector(".btn-continue").classList.add("none"))}function O(){document.querySelector(".round-ower").classList.remove("is-open")}function A(s){const t=Math.floor(s/60/60/1e3),n=Math.floor((s-t*3600*1e3)/60/1e3),e=Math.floor(s/1e3)-t*3600-n*60;return{hours:t,minutes:n,secunds:e}}function q(s){return s.map(n=>n.webformatURL)}function $(s){if(s.target.tagName==="P")return;document.querySelector(".not-images").classList.remove("is-open")}async function y(s,t,n){let e;switch(s){case 1:e=6;break;case 2:e=8;break;case 3:e=10;break;case 4:e=12;break;case 5:e=15;break;case 6:e=18;break;case 7:e=21;break;case 8:e=24;break;case 9:e=28;break;case 10:e=32;break}const r=new URLSearchParams({key:"52540887-918f2903ad65f90a6d5993705",q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:e,page:n});try{return(await E.get(`https://pixabay.com/api/?${r}`)).data.hits}catch{G()}}async function T(s,t){await new Promise(r=>{setTimeout(()=>r(2),500)});const n=s.nextElementSibling,e=t.nextElementSibling;if(n.src!=e.src){s.classList.remove("invis"),t.classList.remove("invis");return}else{s.parentElement.classList.add("hidden"),t.parentElement.classList.add("hidden");return}}function D(){const s=document.querySelectorAll(".game-item");let t=[];return s.forEach(e=>{const r=e.classList.contains("hidden");t.push(r)}),t.every(e=>e===!0)}const J=JSON.parse(sessionStorage.getItem("level")),R=JSON.parse(sessionStorage.getItem("teme")),C=JSON.parse(sessionStorage.getItem("page"));let l=R||void 0,a=J||1,m=C||1;const i={startPage:document.querySelector(".start-page"),startList:document.querySelector(".list-teme"),form:document.querySelector(".enter-teme"),gamePage:document.querySelector(".game-page"),gameGallery:document.querySelector(".game-gallery"),goFirstPageBtn:document.querySelector(".go-first"),btnContinue:document.querySelector(".btn-continue")};let h=!1,g,f,p,S;function I(){i.startPage.classList.add("is-close")}function W(){i.startPage.classList.remove("is-close")}function N(){i.gamePage.classList.add("is-open")}function F(){i.gamePage.classList.remove("is-open")}function H(s){const t=s.target;if(t.tagName!="LI")return;const n=t.dataset.value;l!=n&&(l=n,a=1,m=1,sessionStorage.setItem("teme",JSON.stringify(l))),I(),N(),y(a,l,m).then(e=>{w(e,a),p=Date.now(),S=Date.now()})}function B(s){s.preventDefault();const t=s.target.elements.teme.value.trim().toLowerCase();l!=t&&(l=t,a=1,m=1,sessionStorage.setItem("teme",JSON.stringify(l))),y(a,l,m).then(n=>{let e;switch(a){case 1:e=6;break;case 2:e=8;break;case 3:e=10;break;case 4:e=12;break;case 5:e=15;break;case 6:e=18;break;case 7:e=21;break;case 8:e=24;break;case 9:e=28;break;case 10:e=32;break}n.length<e?(i.form.reset(),x()):(I(),N(),i.form.reset(),w(n,a),p=Date.now(),S=Date.now())})}function U(){a++,m=Math.ceil(a/2),sessionStorage.setItem("level",JSON.stringify(a)),sessionStorage.setItem("page",JSON.stringify(m)),y(a,l,m).then(s=>{let t;switch(a){case 1:t=6;break;case 2:t=8;break;case 3:t=10;break;case 4:t=12;break;case 5:t=15;break;case 6:t=18;break;case 7:t=21;break;case 8:t=24;break;case 9:t=28;break;case 10:t=32;break}s.length<t?(a=1,m=1,l=void 0,M(),i.gameGallery.innerHTML=""):(i.gameGallery.innerHTML="",w(s,a),p=Date.now(),O())})}function _(){i.gameGallery.innerHTML="",O(),F(),W(),a=1,l=void 0,m=1,sessionStorage.removeItem("teme"),sessionStorage.removeItem("level"),sessionStorage.removeItem("page")}function z(s){if(h)return;const t=s.target;t.tagName=="SPAN"&&(g?(f=t,f.classList.add("invis"),h=!0,T(g,f).then(()=>{h=!1,g=0,f=0,D()&&(a===10?(a=1,m=1,l=void 0,P(S,a)):P(p,a))})):(g=t,g.classList.add("invis")))}i.startList.addEventListener("click",H);i.form.addEventListener("submit",B);i.gameGallery.addEventListener("click",z);i.goFirstPageBtn.addEventListener("click",_);i.btnContinue.addEventListener("click",U);
//# sourceMappingURL=index.js.map
