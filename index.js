import{a as E}from"./assets/vendor-CWxt7QI6.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();let L=!1;function O(){document.querySelector(".error-window").classList.add("is-open")}function x(){const n=document.querySelector(".not-images");n.classList.add("is-open"),L||(n.addEventListener("click",N),L=!0)}function S(n,r){let e,t;switch(r){case 1:e=1140/4,t=550/3;break;case 2:e=1140/4,t=540/4;break;case 3:e=1130/5,t=540/4;break;case 4:e=1120/6,t=540/4;break;case 5:e=1120/6,t=530/5;break;case 6:e=1120/6,t=520/6;break;case 7:e=1110/7,t=520/6;break;case 8:e=1100/8,t=520/6;break;case 9:e=1100/8,t=510/7;break;case 9:e=1100/8,t=500/8;break}const s=k(n).map(d=>({src:d,rang:Math.ceil(Math.random()*100)})),a=k(n).map(d=>({src:d,rang:Math.ceil(Math.random()*100)})),i=[...s,...a].toSorted((d,l)=>d.rang-l.rang);let p=[];i.forEach(d=>{const l=document.createElement("li");l.classList.add("game-item"),l.style.width=`${e}px`,l.style.height=`${t}px`;const b=document.createElement("span");b.classList.add("fon"),l.append(b);const y=document.createElement("img");y.src=d.src,l.append(y),p.push(l)}),document.querySelector(".game-gallery").append(...p)}function A(n,r){const e=document.querySelector(".round-ower"),t=document.querySelector(".round-ower-text"),a=Date.now()-n,i=M(a);e.classList.add("is-open"),r<10?t.textContent=`Ваш час раунда ${i.hours} год. ${i.minutes} хв. ${i.secunds} сек. Бажаєте продовжити?`:(t.textContent="Вітаємо, ві пройшили всі рівні за обраною темою.",document.querySelector(".btn-continue").classList.add("none"))}function I(){document.querySelector(".round-ower").classList.remove("is-open")}function M(n){const r=Math.floor(n/60/60/1e3),e=Math.floor((n-r*3600*1e3)/60/1e3),t=Math.floor(n/1e3)-r*3600-e*60;return{hours:r,minutes:e,secunds:t}}function k(n){return n.map(e=>e.webformatURL)}function N(n){if(n.target.tagName==="P")return;document.querySelector(".not-images").classList.remove("is-open")}async function v(n,r){let e;switch(n){case 1:e=6;break;case 2:e=8;break;case 3:e=10;break;case 4:e=12;break;case 5:e=15;break;case 6:e=18;break;case 7:e=21;break;case 8:e=24;break;case 9:e=28;break;case 10:e=32;break}const t=new URLSearchParams({key:"52540887-918f2903ad65f90a6d5993705",q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:e,page:n});try{return(await E.get(`https://pixabay.com/api/?${t}`)).data.hits}catch{O()}}async function G(n,r){await new Promise(s=>{setTimeout(()=>s(2),500)});const e=n.nextElementSibling,t=r.nextElementSibling;if(e.src!=t.src){n.classList.remove("invis"),r.classList.remove("invis");return}else{n.parentElement.classList.add("hidden"),r.parentElement.classList.add("hidden");return}}function C(){const n=document.querySelectorAll(".game-item");let r=[];return n.forEach(t=>{const s=t.classList.contains("hidden");r.push(s)}),r.every(t=>t===!0)}const R=sessionStorage.getItem(c),$=sessionStorage.getItem(u),T=sessionStorage.getItem(m);let u=$||void 0,c=R||1,m=T||1;const o={startPage:document.querySelector(".start-page"),startList:document.querySelector(".list-teme"),form:document.querySelector(".enter-teme"),gamePage:document.querySelector(".game-page"),gameGallery:document.querySelector(".game-gallery"),goFirstPageBtn:document.querySelector(".go-first"),btnContinue:document.querySelector(".btn-continue")};let h=!1,g,f,w;function P(){o.startPage.classList.add("is-close")}function W(){o.startPage.classList.remove("is-close")}function q(){o.gamePage.classList.add("is-open")}function D(){o.gamePage.classList.remove("is-open")}function F(n){const r=n.target;if(r.tagName!="LI")return;const e=r.dataset.value;u!=e&&(u=e,c=1,m=1),P(),q(),v(m,u).then(t=>{S(t,c),w=Date.now()})}function B(n){n.preventDefault();const r=n.target.elements.teme.value.trim().toLowerCase();u!=r&&(u=r,c=1,m=1),v(m,u).then(e=>{let t;switch(c){case 1:t=6;break;case 2:t=8;break;case 3:t=10;break;case 4:t=12;break;case 5:t=15;break;case 6:t=18;break;case 7:t=21;break;case 8:t=24;break;case 9:t=28;break;case 10:t=32;break}e.length<t?(o.form.reset(),x()):(P(),q(),o.form.reset(),S(e,c),w=Date.now())})}function U(){c++,m=Math.ceil(c/2)}function _(){o.gameGallery.innerHTML="",I(),D(),W(),c=1,u=void 0,m=1}function z(n){if(h)return;const r=n.target;r.tagName=="SPAN"&&(g?(f=r,f.classList.add("invis"),h=!0,G(g,f).then(()=>{h=!1,g=0,f=0,C()&&A(w,c)})):(g=r,g.classList.add("invis")))}o.startList.addEventListener("click",F);o.form.addEventListener("submit",B);o.gameGallery.addEventListener("click",z);o.goFirstPageBtn.addEventListener("click",_);o.btnContinue.addEventListener("click",U);
//# sourceMappingURL=index.js.map
