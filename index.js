import{a as E}from"./assets/vendor-CWxt7QI6.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();let w=!1;function P(){document.querySelector(".error-window").classList.add("is-open")}function O(){const t=document.querySelector(".not-images");t.classList.add("is-open"),w||(t.addEventListener("click",N),w=!0)}function L(t,r){let e,a;switch(r){case 1:e=1140/4,a=550/3;break;case 2:e=1140/4,a=540/4;break;case 3:e=1130/5,a=540/4;break;case 4:e=1120/6,a=540/4;break;case 5:e=1120/6,a=530/5;break;case 6:e=1120/6,a=520/6;break;case 7:e=1110/7,a=520/6;break;case 8:e=1100/8,a=520/6;break;case 9:e=1100/8,a=510/7;break;case 9:e=1100/8,a=500/8;break}const s=k(t).map(o=>({src:o,rang:Math.ceil(Math.random()*100)})),n=k(t).map(o=>({src:o,rang:Math.ceil(Math.random()*100)})),l=[...s,...n].toSorted((o,c)=>o.rang-c.rang);let h=[];l.forEach(o=>{const c=document.createElement("li");c.classList.add("game-item"),c.style.width=`${e}px`,c.style.height=`${a}px`;const b=document.createElement("span");b.classList.add("fon"),c.append(b);const y=document.createElement("img");y.src=o.src,c.append(y),h.push(c)}),document.querySelector(".game-gallery").append(...h)}function A(t){const r=document.querySelector(".round-ower");document.querySelector(".round-ower-text"),r.classList.add("is-open")}function k(t){return t.map(e=>e.webformatURL)}function N(t){if(t.target.tagName==="P")return;document.querySelector(".not-images").classList.remove("is-open")}async function S(t,r){let e;switch(t){case 1:e=6;break;case 2:e=8;break;case 3:e=10;break;case 4:e=12;break;case 5:e=15;break;case 6:e=18;break;case 7:e=21;break;case 8:e=24;break;case 9:e=28;break;case 10:e=32;break}const a=new URLSearchParams({key:"52540887-918f2903ad65f90a6d5993705",q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:e,page:t});try{return(await E.get(`https://pixabay.com/api/?${a}`)).data.hits}catch{P()}}async function I(t,r){await new Promise(s=>{setTimeout(()=>s(2),500)});const e=t.nextElementSibling,a=r.nextElementSibling;if(e.src!=a.src){t.classList.remove("invis"),r.classList.remove("invis");return}else{t.parentElement.classList.add("hidden"),r.parentElement.classList.add("hidden");return}}function x(){const t=document.querySelectorAll(".game-item");let r=[];return t.forEach(a=>{const s=a.classList.contains("hidden");r.push(s)}),r.every(a=>a===!0)}let u,f=1,p;p=1;const i={startPage:document.querySelector(".start-page"),startList:document.querySelector(".list-teme"),form:document.querySelector(".enter-teme"),gamePage:document.querySelector(".game-page"),gameGallery:document.querySelector(".game-gallery")};let g=!1,m,d;function v(){i.startPage.classList.add("is-close")}function q(){i.gamePage.classList.add("is-open")}function G(t){const r=t.target;r.tagName=="LI"&&(u=r.dataset.value,v(),q(),S(p,u).then(e=>{L(e,f)}))}function M(t){t.preventDefault(),u=t.target.elements.teme.value.trim(),S(p,u).then(r=>{let e;switch(f){case 1:e=6;break;case 2:e=8;break;case 3:e=10;break;case 4:e=12;break;case 5:e=15;break;case 6:e=18;break;case 7:e=21;break;case 8:e=24;break;case 9:e=28;break;case 10:e=32;break}r.length<e?(i.form.reset(),O()):(v(),q(),i.form.reset(),L(r,f))})}function R(t){if(g)return;const r=t.target;r.tagName=="SPAN"&&(m?(d=r,d.classList.add("invis"),g=!0,I(m,d).then(()=>{g=!1,m=0,d=0,x()&&A()})):(m=r,m.classList.add("invis")))}i.startList.addEventListener("click",G);i.form.addEventListener("submit",M);i.gameGallery.addEventListener("click",R);
//# sourceMappingURL=index.js.map
